<link rel="stylesheet" href="{{ 'section-header.css' | asset_url }}" media="print" onload="this.media='all'">
<noscript>{{ 'section-header.css' | asset_url | stylesheet_tag }}</noscript>

<header class="header">
  <!-- Top announcement bar -->
  <div class="header__top-bar">
    <div class="page-width">
      <div class="header__top-content">
        <div class="header__contact-info">
          <span class="header__phone">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
            </svg>
            {{ section.settings.phone | default: '900 123 456' }}
          </span>
          <span class="header__shipping">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            {{ section.settings.shipping_text | default: 'Envío gratuito a toda España' }}
          </span>
        </div>
        <div class="header__announcement">
          {{ section.settings.announcement | default: 'Obligatorio desde el 1 de enero de 2026' }}
        </div>
      </div>
    </div>
  </div>

  <!-- Main header -->
  <div class="header__main">
    <div class="page-width">
      <div class="header__content">
        <!-- Logo -->
        <div class="header__logo">
          <a href="{{ routes.root_url }}" class="header__logo-link">
            {% if section.settings.logo != blank %}
              <img src="{{ section.settings.logo | image_url: width: 200 }}" 
                   alt="{{ shop.name }}" 
                   class="header__logo-image">
            {% else %}
              <h1 class="header__logo-text">
                Baliza DGT <span class="header__logo-accent">V16</span>
              </h1>
            {% endif %}
          </a>
        </div>

        <!-- Navigation -->
        <nav class="header__nav" role="navigation">
          <ul class="header__nav-list">
            <li><a href="#inicio" class="header__nav-link">Inicio</a></li>
            <li><a href="{{ collections.all.url }}" class="header__nav-link">Productos</a></li>
            <li><a href="{{ pages.normativa.url }}" class="header__nav-link">Normativa</a></li>
            <li><a href="{{ pages.faq.url }}" class="header__nav-link">FAQ</a></li>
            <li><a href="#contacto" class="header__nav-link">Contacto</a></li>
          </ul>
        </nav>

        <!-- Cart and mobile menu -->
        <div class="header__actions">
          <a href="{{ routes.cart_url }}" class="header__cart-link" id="cart-icon-bubble">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <path d="M16 10a4 4 0 0 1-8 0"></path>
            </svg>
            <span class="header__cart-count" {% if cart == empty %}style="display: none;"{% endif %}>
              {{ cart.item_count }}
            </span>
          </a>

          <button class="header__mobile-menu-toggle" aria-controls="mobile-menu" aria-expanded="false">
            <svg class="header__menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
            <svg class="header__close-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile Navigation -->
      <nav class="header__mobile-nav" id="mobile-menu" style="display: none;">
        <ul class="header__mobile-nav-list">
          <li><a href="#inicio" class="header__mobile-nav-link">Inicio</a></li>
          <li><a href="{{ collections.all.url }}" class="header__mobile-nav-link">Productos</a></li>
          <li><a href="{{ pages.normativa.url }}" class="header__mobile-nav-link">Normativa</a></li>
          <li><a href="{{ pages.faq.url }}" class="header__mobile-nav-link">FAQ</a></li>
          <li><a href="#contacto" class="header__mobile-nav-link">Contacto</a></li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<script src="{{ 'section-header.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "phone",
      "label": "Teléfono",
      "default": "900 123 456"
    },
    {
      "type": "text",
      "id": "shipping_text",
      "label": "Texto de envío",
      "default": "Envío gratuito a toda España"
    },
    {
      "type": "text",
      "id": "announcement",
      "label": "Anuncio superior",
      "default": "Obligatorio desde el 1 de enero de 2026"
    }
  ]
}
{% endschema %}